<%- include ('../partials/head') %> <%- include ('../partials/menu') %> <%-
include ('../partials/message') %>

<main>
    <div
        class="container d-flex flex-column justify-content-center align-items-center"
    >

    <h1>Groups</h1>


      <table class="table">
        <thead>
          <tr>
            <th scope="col">Group</th>
            <th scope="col">Owner</th>
            <th scope="col">About</th>
          </tr>
        </thead>
        <tbody>
            <tr>
                <form action="/groups" method="POST">
                    <td>
                        <input type="text" name="name" id="name" minLength="1" maxLength="32" required placeholder="Create a group" class="form-control">
                    </td>
                    <td>You</td>
                    <td class="d-flex ">
                        <input type="text" name="about" id="about" minLength="1" maxLength="256" required class="form-control" placeholder="Describe what this group is about">
                        <button type="submit" class="btn btn-primary mx-2">Create</button>
                    </td>
                </form>
            </tr>
        <% for (let i = 0; i < locals.groups.length; i++) { %>

          <tr>
            <td><a href="/groups/<%= locals.groups[i].id %>"><%= locals.groups[i].id %></a></td>
            <td><%= locals.groups[i].username %></td>
            <td><%= locals.groups[i].about %></td>
          </tr>
        <% } %>


        </tbody>
      </table>
    </div>
</main>
<%- include ('../partials/footer') %>